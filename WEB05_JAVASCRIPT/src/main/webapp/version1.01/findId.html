<!DOCTYPE html>
<html lang="ko" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>사용자 정보 찾기</title>
    <style media="screen">
      body{
        width:100%;
        height:100%;
        padding-left: 5%;
        padding-top: 5%;
        display:inline-block;
      }
      div{
        width:50%;
        background:white;
      }
    </style>
  </head>
  <body>
    <div class="Id_find">
      <h2>아이디 찾기</h2>
      <table>
        <tr>
          <th>이름</th>
          <td><input id="n1" type="text" name="n1" value=""></td>
        </tr>
        <tr>
          <th>전화번호</th>
          <td><input id="p1" type="phone" name="p1" value=""></td>
        </tr>
        <tr>
          <td style="text-align:center;" colspan="2"><input style="width:100px;" type="submit" name="찾기" value="찾기" onclick="findid()"></td>
        </tr>
      </table>
    </div>
    <div class="Pw_find">
      <h2>패스워드 찾기</h2>
      <form>
        <table>
          <tr>
            <th>아이디</th>
            <td><input id="i2" type="text" name="i1" value=""></td>
          </tr>
          <tr>
            <th>이름</th>
            <td><input id="n2" type="text" name="n1" value=""></td>
          </tr>
          <tr>
            <th>전화번호</th>
            <td><input id="p2" type="phone" name="p1" value=""></td>
          </tr>
          <tr>
            <td style="text-align:center;" colspan="2"><input style="width:100px;" type="submit" name="찾기" value="찾기" onclick="findpw()"></td>
          </tr>
        </table>
      </form>
    </div>
    <script type="text/javascript">
      function findid(){
        if(window.localStorage.key(0)===null){
          alert("해당 정보의 id를 찾을 수 없습니다.");
        }
        let f1 = document.getElementById('n1').value;
        let f2 = document.getElementById('p1').value;
        for(let i = 0; i < window.localStorage.length; i++){
          let id = window.localStorage.key(i);
          if(window.localStorage.getItem(id).split(',')[1] === f1 && window.localStorage.getItem(id).split(',')[2] === f2){
            alert(f1 + "님의 아이디는 " + id + "입니다.");
            break;
          }
          else{
            if(i < window.localStorage.length-1)
              continue;
            else{
              alert("해당 정보의 id를 찾을 수 없습니다.");
            }
          }
        }
      }
      function findpw(){
        if(window.localStorage.key(0)===null){
          alert("해당 정보의 id를 찾을 수 없습니다.");
        }
        let f3 = document.getElementById('i2').value;
        let f1 = document.getElementById('n2').value;
        let f2 = document.getElementById('p2').value;
        for(let i = 0; i < window.localStorage.length; i++){
          let id = window.localStorage.key(i);
          if(id === f3 && window.localStorage.getItem(id).split(',')[1] === f1 && window.localStorage.getItem(id).split(',')[2] === f2){
            alert(f3 + "님의 비밀번호는 " + window.localStorage.getItem(id).split(',')[0] + "입니다.");
            break;
          }
          else{
            if(i < window.localStorage.length-1)
              continue;
            else{
              alert("해당 id의 비밀번호를 찾을 수 없습니다.");
            }
          }
        }
      }
    </script>
  </body>
</html>
